<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Flower Image Quiz</title>
  <style>
    :root {
      --bg: linear-gradient(135deg, #f8f2ff 0%, #ffe8ec 35%, #fff7e2 100%);
      --card: #ffffffee;
      --accent: #f25f8b;
      --accent-2: #3c6e71;
      --border: #e6d8ff;
      --text: #2f2a38;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      min-height: 100vh;
      font-family: "Gill Sans", "Trebuchet MS", sans-serif;
      background: var(--bg);
      color: var(--text);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 28px;
    }
    .card {
      width: min(960px, 100%);
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 16px;
      box-shadow: 0 20px 40px rgba(47, 42, 56, 0.08);
      padding: 28px 28px 22px;
      backdrop-filter: blur(4px);
    }
    .eyebrow {
      display: inline-flex;
      padding: 6px 12px;
      border-radius: 999px;
      background: #2f2a380f;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      font-size: 12px;
      margin-bottom: 10px;
    }
    h1 {
      margin: 0 0 6px;
      font-size: clamp(24px, 3vw, 34px);
      letter-spacing: -0.02em;
    }
    .sub {
      margin: 0 0 18px;
      color: #5a4f6b;
      font-size: 15px;
    }
    .status {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 14px;
      font-weight: 600;
    }
    .progress {
      width: 100%;
      height: 10px;
      background: #f1e8ff;
      border-radius: 999px;
      overflow: hidden;
      margin: 10px 0 18px;
      position: relative;
    }
    .progress span {
      display: block;
      height: 100%;
      width: 0;
      background: linear-gradient(90deg, var(--accent), #ff9e6f);
      transition: width 180ms ease-out;
    }
    .prompt {
      font-size: 20px;
      margin: 0 0 10px;
      font-weight: 700;
    }
    .question-media {
      background: #f7f2ff;
      border: 1px solid #efe6ff;
      border-radius: 14px;
      padding: 10px;
      margin-bottom: 14px;
    }
    .question-media img {
      display: block;
      width: 100%;
      max-height: 340px;
      object-fit: cover;
      border-radius: 10px;
      background: #eae3ff;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 12px;
    }
    .option {
      position: relative;
      border: 2px solid transparent;
      border-radius: 14px;
      padding: 14px 12px;
      background: #fdfbff;
      cursor: pointer;
      text-align: left;
      transition: transform 120ms ease, box-shadow 120ms ease, border-color 120ms ease;
      font-weight: 700;
      letter-spacing: 0.01em;
    }
    .option .label {
      display: inline-flex;
      width: 26px;
      height: 26px;
      align-items: center;
      justify-content: center;
      border-radius: 8px;
      margin-right: 8px;
      background: #f2e6ff;
      color: var(--accent-2);
      font-size: 13px;
    }
    .option:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 24px rgba(47, 42, 56, 0.12);
      border-color: #f7d4ec;
    }
    .option.correct { border-color: #4bb543; box-shadow: 0 0 0 4px #4bb54320; }
    .option.wrong { border-color: #e63946; box-shadow: 0 0 0 4px #e6394620; }
    .option.disabled { pointer-events: none; opacity: 0.8; }
    .controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 18px;
    }
    button.action {
      padding: 12px 18px;
      border-radius: 12px;
      border: none;
      background: linear-gradient(90deg, var(--accent), #ff9e6f);
      color: white;
      font-weight: 700;
      font-size: 15px;
      cursor: pointer;
      box-shadow: 0 10px 18px rgba(242, 95, 139, 0.3);
      transition: transform 120ms ease, box-shadow 120ms ease;
    }
    button.action:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      box-shadow: none;
    }
    button.action:hover:not(:disabled) { transform: translateY(-2px); }
    .score {
      color: var(--accent-2);
      font-weight: 700;
    }
    .end {
      text-align: center;
      padding: 18px 0 6px;
    }
    .question-list {
      margin-top: 18px;
      border-top: 1px solid var(--border);
      padding-top: 12px;
    }
    .question-list details {
      background: #f7f2ff;
      border: 1px solid #efe6ff;
      border-radius: 12px;
      padding: 10px 12px;
    }
    .question-list summary {
      cursor: pointer;
      font-weight: 700;
      outline: none;
    }
    .question-list ol {
      margin: 10px 0 0;
      padding-left: 20px;
      max-height: 200px;
      overflow: auto;
    }
    .question-list li {
      margin: 4px 0;
      font-size: 14px;
      color: #4a3e5b;
    }
    .question-list li.current {
      color: var(--accent-2);
      font-weight: 700;
    }
    @media (max-width: 540px) {
      body { padding: 18px; }
    }
  </style>
</head>
<body>
  <main class="card">
    <div class="eyebrow">Flower MCQ</div>
    <h1>Spot the Flower</h1>
    <p class="sub">Choose the correct picture for each flower. Four options, one answer.</p>
    <div class="status">
      <div class="score" id="scoreLine">Score: 0</div>
      <div id="counter">Question 1 / 6</div>
    </div>
    <div class="progress"><span id="progressBar"></span></div>
    <p class="prompt" id="prompt"></p>
    <div class="question-media">
      <img id="questionImage" alt="Question flower">
    </div>
    <div class="grid" id="options"></div>
    <div class="controls">
      <div id="feedback"></div>
      <button class="action" id="nextBtn" disabled>Next</button>
    </div>
    <div class="end" id="endState" hidden></div>
    <div class="question-list">
      <details>
        <summary>Question list</summary>
        <ol id="questionList"></ol>
      </details>
    </div>
  </main>

  <script>
    const baseFlowers = [
      { name: "African Daisy", folder: "african_daisy" },
      { name: "Amaryllis", folder: "amaryllis" },
      { name: "Anemone", folder: "anemone" },
      { name: "Apple Blossom", folder: "apple_blossom" },
      { name: "Aster", folder: "aster" },
      { name: "Azalea", folder: "azalea" },
      { name: "Begonia", folder: "begonia" },
      { name: "Bird of Paradise", folder: "bird_of_paradise_flower" },
      { name: "Black Rose", folder: "black_rose" },
      { name: "Bluebell", folder: "bluebell" },
      { name: "Blue Hibiscus", folder: "blue_hibiscus" },
      { name: "Blue Orchid", folder: "blue_orchid" },
      { name: "Bougainvillea", folder: "bougainvillea" },
      { name: "Buttercup", folder: "buttercup" },
      { name: "Butterfly Pea", folder: "butterfly_pea_flower" },
      { name: "Cactus Flower", folder: "cactus_flower" },
      { name: "Calendula", folder: "calendula" },
      { name: "Camellia", folder: "camellia" },
      { name: "Camellia (White)", folder: "camellia_white" },
      { name: "Carnation", folder: "carnation" },
      { name: "Champa Flower", folder: "champa_flower" },
      { name: "Chrysanthemum", folder: "chrysanthemum" },
      { name: "Cornflower", folder: "cornflower" },
      { name: "Cosmos", folder: "cosmos" },
      { name: "Daffodil", folder: "daffodil" },
      { name: "Daisy", folder: "daisy" },
      { name: "Dandelion", folder: "dandelion" },
      { name: "Edelweiss", folder: "edelweiss" },
      { name: "Flame Lily", folder: "flame_lily" },
      { name: "Foxglove", folder: "foxglove" },
      { name: "Frangipani", folder: "frangipani" },
      { name: "Freesia", folder: "freesia" },
      { name: "Gardenia", folder: "gardenia" },
      { name: "Geranium", folder: "geranium" },
      { name: "Gladiolus", folder: "gladiolus" },
      { name: "Hellebore", folder: "hellebore" },
      { name: "Hibiscus", folder: "hibiscus" },
      { name: "Hollyhock", folder: "hollyhock" },
      { name: "Honeysuckle", folder: "honeysuckle" },
      { name: "Hydrangea", folder: "hydrangea" },
      { name: "Indian Lotus", folder: "indian_lotus" },
      { name: "Iris", folder: "iris" },
      { name: "Jasmine", folder: "jasmine" },
      { name: "Lantana", folder: "lantana" },
      { name: "Lavender", folder: "lavender" },
      { name: "Lilac", folder: "lilac" },
      { name: "Lily", folder: "lily" },
      { name: "Lotus", folder: "lotus" },
      { name: "Lotus (Pink)", folder: "lotus_pink" },
      { name: "Magnolia", folder: "magnolia" },
      { name: "Mallow", folder: "mallow" },
      { name: "Mallow (Purple)", folder: "mallow_purple" },
      { name: "Marigold", folder: "marigold" },
      { name: "Morning Glory", folder: "morning_glory" },
      { name: "Naag Champa", folder: "naag_champa_flower" },
      { name: "Nasturtium", folder: "nasturtium" },
      { name: "Orange Marigold", folder: "orange_marigold" },
      { name: "Orchid", folder: "orchid" },
      { name: "Pansy", folder: "pansy" },
      { name: "Pasque Flower", folder: "pasque_flower" },
      { name: "Peach Blossom", folder: "peach_blossom" },
      { name: "Peony", folder: "peony" },
      { name: "Petunia", folder: "petunia" },
      { name: "Pink Lily", folder: "pink_lily" },
      { name: "Pink Rose", folder: "pink_rose", ext: ".jpeg" },
      { name: "Plumeria", folder: "plumeria" },
      { name: "Poppy", folder: "poppy" },
      { name: "Primrose", folder: "primrose" },
      { name: "Proteus Flower", folder: "proteus_flower" },
      { name: "Purple Lotus", folder: "purple_lotus" },
      { name: "Queen Anne's Lace", folder: "queen_anne's_lace" },
      { name: "Ranunculus", folder: "ranunculus" },
      { name: "Red Poppy", folder: "red_poppy" },
      { name: "Red Rose", folder: "red_rose" },
      { name: "Rhododendron", folder: "rhododendron" },
      { name: "Rose", folder: "rose" },
      { name: "Rose of Sharon", folder: "rose_of_sharon" },
      { name: "Sage Flower", folder: "sage_flower" },
      { name: "Salvia", folder: "salvia_flower" },
      { name: "Scarlet Pimpernel", folder: "scarlet_pimpernel" },
      { name: "Snapdragon", folder: "snapdragon" },
      { name: "Snowdrop", folder: "snowdrop" },
      { name: "Snowflake Flower", folder: "snowflake_flower" },
      { name: "Sunflower", folder: "sunflower" },
      { name: "Sweet Pea", folder: "sweet_pea" },
      { name: "Tiger Lily", folder: "tiger_lily" },
      { name: "Tiger Orchid", folder: "tiger_orchid" },
      { name: "Tuberose", folder: "tuberose" },
      { name: "Tulip", folder: "tulip" },
      { name: "Verbena", folder: "verbena" },
      { name: "Violet", folder: "violet" },
      { name: "Water Lily", folder: "water_lily" },
      { name: "White Lily", folder: "white_lily" },
      { name: "White Rose", folder: "white_rose" },
      { name: "Wild Rose", folder: "wild_rose" },
      { name: "Wild Tulip", folder: "wild_tulip" },
      { name: "Yarrow", folder: "yarrow" },
      { name: "Yellow Daisy", folder: "yellow_daisy" },
      { name: "Yellow Tulip", folder: "yellow_tulip" },
      { name: "Zinnia", folder: "zinnia" },
    ];

    function imagePath(flower) {
      const ext = flower.ext || ".jpg";
      return `flowers/${flower.folder}/000001${ext}`;
    }

    function makeOptions(correctIndex) {
      const optionFlowers = [];
      let offset = 0;
      while (optionFlowers.length < 4) {
        const next = baseFlowers[(correctIndex + offset) % baseFlowers.length];
        if (!optionFlowers.includes(next)) optionFlowers.push(next);
        offset++;
      }
      const correctSlot = correctIndex % 4;
      const correctFlower = optionFlowers.shift();
      optionFlowers.splice(correctSlot, 0, correctFlower);

      return optionFlowers.map((f, idx) => ({
        name: f.name,
        src: imagePath(f),
        letter: String.fromCharCode(65 + idx),
        folder: f.folder,
      }));
    }

    function createQuestions() {
      return baseFlowers.map((flower, idx) => {
        const options = makeOptions(idx);
        const answerIndex = options.findIndex(opt => opt.folder === flower.folder);
        return {
          prompt: "Which flower is shown in the picture?",
          flowerName: flower.name,
          image: imagePath(flower),
          answer: answerIndex,
          options,
        };
      });
    }

    const questions = createQuestions();

    const promptEl = document.getElementById("prompt");
    const optionsEl = document.getElementById("options");
    const questionImage = document.getElementById("questionImage");
    const counterEl = document.getElementById("counter");
    const progressEl = document.getElementById("progressBar");
    const feedbackEl = document.getElementById("feedback");
    const scoreLineEl = document.getElementById("scoreLine");
    const nextBtn = document.getElementById("nextBtn");
    const endState = document.getElementById("endState");
    const questionListEl = document.getElementById("questionList");

    let current = 0;
    let score = 0;
    let locked = false;

    function buildQuestionList() {
      questions.forEach((q, idx) => {
        const li = document.createElement("li");
        li.textContent = `Q${idx + 1}: ${q.flowerName || "Flower"}`;
        li.dataset.index = idx;
        questionListEl.appendChild(li);
      });

      questionListEl.addEventListener("click", (e) => {
        const li = e.target.closest("li");
        if (!li) return;
        const targetIndex = Number(li.dataset.index);
        if (Number.isNaN(targetIndex)) return;
        current = targetIndex;
        renderQuestion();
      });
    }

    function markListCurrent() {
      questionListEl.querySelectorAll("li").forEach(li => {
        li.classList.toggle("current", Number(li.dataset.index) === current);
      });
    }

    function renderQuestion() {
      const q = questions[current];
      promptEl.textContent = q.prompt;
      questionImage.src = q.image;
      questionImage.alt = `Image of ${q.flowerName}`;
      counterEl.textContent = `Question ${current + 1} / ${questions.length}`;
      progressEl.style.width = `${((current) / questions.length) * 100}%`;
      optionsEl.innerHTML = "";
      feedbackEl.textContent = "";
      nextBtn.disabled = true;
      locked = false;
      markListCurrent();

      q.options.forEach((opt, idx) => {
        const btn = document.createElement("button");
        btn.className = "option";
        btn.innerHTML = `
          <span class="label">${String.fromCharCode(65 + idx)}</span>
          <span>${opt.name}</span>
        `;
        btn.addEventListener("click", () => handleAnswer(idx, btn));
        optionsEl.appendChild(btn);
      });
    }

    function handleAnswer(idx, element) {
      if (locked) return;
      locked = true;
      const q = questions[current];
      const optionButtons = Array.from(document.querySelectorAll(".option"));
      optionButtons.forEach(btn => btn.classList.add("disabled"));

      if (idx === q.answer) {
        element.classList.add("correct");
        feedbackEl.textContent = "Nice! That's correct.";
        score++;
      } else {
        element.classList.add("wrong");
        optionButtons[q.answer].classList.add("correct");
        feedbackEl.textContent = "Not quite. The green highlight is the right one.";
      }
      scoreLineEl.textContent = `Score: ${score}`;
      progressEl.style.width = `${((current + 1) / questions.length) * 100}%`;
      nextBtn.disabled = true;

      setTimeout(() => {
        if (current < questions.length - 1) {
          current++;
          renderQuestion();
        } else {
          endQuiz();
        }
      }, 800);
    }

    function endQuiz() {
      promptEl.textContent = "Quiz complete!";
      optionsEl.innerHTML = "";
      feedbackEl.textContent = "";
      counterEl.textContent = `All ${questions.length} questions`;
      nextBtn.disabled = true;
      endState.hidden = false;
      endState.innerHTML = `
        <div style="font-size:22px;font-weight:700;color:var(--accent);">You scored ${score} / ${questions.length}</div>
        <div style="margin-top:6px;">Refresh the page to try again.</div>
      `;
      markListCurrent();
    }

    buildQuestionList();
    renderQuestion();
  </script>
</body>
</html>
<-lc hostname- test --->
